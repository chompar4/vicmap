# vicmap
Cartographic tools for working with MGA & VICGRID coordinate systems.

## Installation
```
poetry install
```

## Point Transformations

### MGA20
MGA20 is the conformal UTM projection from the GRS80 ellipsoid (with GDA20 coordinates) to the plane.

Use the ```geo_to_mga``` function to perform a forward point transformation from the GDA20 coordinates ```(dLng, dLat)``` to the MGA20 grid coordinates (E, N) as follows:

```python
z, E, N, m, γ = geo_to_mga(dLat, dLng, datum=GDA20)
```

Use the ```mga_to_geo``` function to perform an inverse point transformation from the MGA20 grid coordinates (E, N) to the GDA20 coordinates ```(dLng, dLat)``` as follows:

```python
dLat, dLng = mga_to_geo(E, N, datum=GDA20)
```


### MGA94
MGA94 is the projection from the GRS80 ellipsoid (with GDA94 coordinates) to the plane. It has been superceded by MGA20.

Use the ```geo_to_mga``` function to perform a point transformation from the GDA94 coordinates ```(dLng, dLat)``` to the MGA94 grid coordinates (E, N) as follows:

```python
z, E, N, m, γ = geo_to_mga(dLat, dLng, datum=GDA94)
```

Use the ```mga_to_geo``` function to perform an inverse point transformation from the MGA94 grid coordinates (E, N) to the GDA94 coordinates ```(dLng, dLat)``` as follows:

```python
dLat, dLng = mga_to_geo(E, N, datum=GDA94)
```

### VICGRID20
??

### VICGRID94 

VICGRID94 uses a lambert conformal conic projection to project the GDA94 datum to the plane.

Use the ```geo_to_vicgrid94``` function to perform a point transformation from the GDA94 coordinates ```(dLng, dLat)``` to the VICGRID94 grid coordinates (E, N) as follows:

```python
E, N, m, γ = geo_to_vicgrid94(dLat, dLng)
```

## VICGRID

VICGRID is similar to VICGRID94, but projects the AGD66 datum to the plane. The VICGRID projection incorporates a different origin specification to VICGRID94 in order to avoid confusion between coordinates generated by the two projections. VICGRID has been superceeded by VICGRID94.

Use the ```geo_to_vicgrid``` function to perform a point transformation from the AGD66 coordinates ```(dLng, dLat)``` to the VICGRID grid coordinates (E, N) as follows:

```python
E, N, m, γ = geo_to_vicgrid(dLat, dLng, datum=AGD66)
```


### Converting between coordinates

#### GDA94 <> GDA20
TODO

## Projections 

#### Lambert Conformal Conic

```
Accepts:
    dLat: latitude in decimal degrees (-90, 90]
    dLng: longitude in decimal degrees (-180, 180]
    datum: reference ellipsoid and coordinate reference system
    φ1, φ2 : standard parralels 
    λ0: central meridian longitude of grid
    φ0: latitude of central parrelel
    E0: false easting (m)
    N0: false northing (m)
returns: 
    X: easting (m)
    Y: northing (m)
    m: point scale factor
    γ: grid convergence
```

#### Universal Transverse Mercator (UTM)

```
Accepts:
    dLat: latitude in decimal degrees (-90, 90]
    dLng: longitude in decimal degrees (-180, 180]
    cm: central meridian of zone containing (dLat, dLng)
    m0: central scale factor
    E0: false easting (m)
    N0: false northing (m)
    datum: reference ellipsoid and coordinate reference system
returns: 
    z: zone
    E: UTM easting (m)
    N: UTM northing (m)
    m: point scale factor
    γ: grid convergence
```


### Reference Ellipsoids

Ellipsoid | Name| EPSG code | Semi-major-axis (a) | Reciprocal flattening
------------ | ------------- | ------------ | -------- | ------------
WGS80 | World Geodetic System 1984 Spheroid | ```7030``` | ```6,378,137m``` | ```298.257223563```
GRS80 | Geodetic Reference System 1980 Spheroid |  ```7019``` | ```6,378,137m``` | ```298.257222101```
ANS  | Australian National Spheroid |  ```7003``` | ```6,378,160m``` | ```298.25```
CLARKE | Clarke 1866 Spheroid | ```7008``` | ```6,378,350.871924m``` | ```294.26```

### Datums

Datum | Name | Ellipsoid | Reference Frame | EPSG code
------|------|-----------|-----------------|-----------
WGS84 | World Geodetic System 1984 | WGS84 | WGS84 | ```6326```
GDA20 | Geocentric Datum of Australia 2020 | GRS80 | ITRF2014 | ```1168```
GDA94 | Geocentric Datum of Australia 1994 | GRS80 | ITRF92 | ```6283```
AGD84 | Australian Geodetic Datum 1984 | ANS | | ```6203```
AGD66 | Australian Geodetic Datum 1966 | ANS | | ```6202```
ANG | | CLARKE | 
